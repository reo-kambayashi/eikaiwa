# 📚 English Communication App - 使用説明書

## 🎯 概要
この英会話アプリは、日本人の英語学習者向けに特化したAI会話練習システムです。Google Gemini AIを活用して、自然な英語会話の練習を提供します。

## 🚀 アプリの起動方法

### 1. 環境準備
```bash
# プロジェクトディレクトリに移動
cd /Users/reo/Documents/eikaiwa

# 環境変数ファイルが存在することを確認
ls -la .env
```

### 2. バックエンドサーバーの起動
```bash
# バックエンドディレクトリに移動
cd backend

# サーバーを起動
uv run uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

### 3. フロントエンドサーバーの起動
```bash
# 新しいターミナルウィンドウで
cd frontend

# Reactアプリを起動
npm start
```

### 4. アプリへアクセス
- **フロントエンド**: http://localhost:3000
- **バックエンドAPI**: http://localhost:8000

## 🎮 基本的な使用方法

### 1. 音声機能の設定

####  Voice Input (音声入力)
- マイクボタン🎤をクリックして音声入力を開始/停止
- 英語で話すと自動的にテキストに変換
- 音声認識中は赤いアニメーションで表示
- タイムアウト設定で自動停止時間を調整可能

#### 🔊 Voice Output (音声出力)
- AIの返答を自動的に読み上げ
- 読み上げ速度を調整可能（0.5x - 2.0x）
- 自然な英語音声でリスニング練習

#### ✅ Grammar Check (文法チェック)
- AI による文法の確認とフィードバック（常時有効）

### 2. チャットでの練習

1. **初回ウェルカムメッセージ**: アプリを開くと、AIが自動的に挨拶してくれます
2. **メッセージ入力**: 
   - テキストボックスに英語でメッセージを入力
   - または音声入力ボタンで話しかける
3. **送信方法**: 
   - 「Send」ボタンをクリック
   - Enterキーを押す
   - 音声入力中の場合は自動的に送信
4. **AI応答**: AIが自然で教育的な返答を生成し、必要に応じて音声で読み上げ

## 🎨 練習の特徴

### 💬 自然な会話練習
**目的**: 実践的な英語会話スキルの向上

**特徴**:
- 日常的な話題での自然な対話
- 会話を継続させる質問やコメント
- 文脈を理解した適切な応答
- 会話の流れを重視したフィードバック

**使用例**:
```
入力: "I went to Tokyo yesterday"
応答: "That sounds exciting! What did you enjoy most about your visit to Tokyo? 
Did you try any local food or visit any interesting places?"
```

### 📝 文法フィードバック
**目的**: 正確な英語表現の習得

**特徴**:
- 文法エラーの優しい訂正
- 自然な表現方法の提案
- 正しい形式とその理由の説明
- 継続的な学習をサポート

**使用例**:
```
入力: "I went to shopping yesterday"
応答: "Good try! I can understand you perfectly. Just a small correction: 
we say 'I went shopping yesterday' (without 'to'). 
Examples: 'went swimming', 'went walking' - no 'to' needed for activities."
```

### �️ 発音とリスニング練習
**目的**: 音声による英語スキルの向上

**特徴**:
- 音声認識による発音練習
- TTS機能による正確な音声モデル
- 読み上げ速度調整によるリスニング練習
- 実際の音声コミュニケーション体験

## 🔧 設定とカスタマイズ

### 🎛️ 音声設定
- **Voice Input (音声入力)**: オン/オフ切り替え
- **Voice Output (音声出力)**: オン/オフ切り替え
- **Speaking Rate (読み上げ速度)**: 0.5x - 2.0x で調整
- **Voice Input Timeout (音声入力タイムアウト)**: 3-10秒で設定

### ⌨️ キーボードショートカット
- **Ctrl/Cmd + Enter**: メッセージ送信
- **Ctrl/Cmd + M**: 音声入力の開始/停止
- **Ctrl/Cmd + D**: 音声出力のオン/オフ

## 🛠️ トラブルシューティング

### サーバー接続エラー
**問題**: "Error contacting server" メッセージが表示

**解決方法**:
1. バックエンドサーバーが起動しているか確認
2. ポート8000が使用可能か確認: `lsof -i :8000`
3. 環境変数が正しく設定されているか確認

### Gemini API エラー
**問題**: "API key not configured" メッセージが表示

**解決方法**:
1. `.env`ファイルに`GEMINI_API_KEY`が設定されているか確認
2. APIキーが有効か [Google AI Studio](https://makersuite.google.com/app/apikey) で確認
3. サーバーを再起動

### 音声認識の問題
**問題**: マイクが機能しない

**解決方法**:
1. ブラウザでマイクのアクセス許可を確認
2. システムのマイク設定を確認
3. HTTPS接続が必要な場合があります（本番環境）

### フロントエンドの表示問題
**問題**: 設定パネルが表示されない

**解決方法**:
1. ブラウザのキャッシュをクリア（Cmd+Shift+R）
2. `npm start`でフロントエンドを再起動
3. コンソールエラーを確認（F12 > Console）

## 📈 効果的な学習方法

### 🎯 日々の練習ルーチン
1. **ウォームアップ** (5分): 簡単な自己紹介や挨拶
2. **メイン練習** (15-20分): 興味のあるトピックで会話
3. **チャレンジ** (5分): 難しい表現や語彙に挑戦

### 📝 学習記録のコツ
- 新しく学んだ語彙をメモ
- 訂正された文法ポイントを記録
- 音声機能で聞き取りやすい表現を練習

### 🔄 継続的改善
- 異なるトピックで会話を練習
- 音声機能を積極的に活用
- 実際の会話で学んだ表現を使用

## 🎊 学習成果の確認

### チェックポイント
- [ ] 自然な会話の維持ができる
- [ ] 文法エラーが減少している
- [ ] 音声での会話に慣れてきた
- [ ] 発音に自信が持てる

### 次のステップ
1. **話題の拡張**: より専門的なトピックに挑戦
2. **音声練習の強化**: 音声入力での会話に集中
3. **実践応用**: 実際の英語話者との会話に挑戦

---

## 📞 サポート情報

**開発者**: Gemini AI を活用した英会話学習システム
**更新日**: 2025年1月14日
**バージョン**: 2.0.0

学習を楽しんでください！ 🌟
